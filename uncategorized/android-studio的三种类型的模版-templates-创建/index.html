<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>Android Studio的三种类型的模版(Templates)创建 - Calvin</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#f7f7f7"><meta name="application-name" content="Kaka"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="msapplication-TileColor" content="#f7f7f7"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Kaka"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Android Studio的三种类型的模版(Templates)创建如果说使用快捷键是程序员的刀🔪，那灵活的使用代码模版就应该是程序员的剑。 这里说的模版(Templates)，是指在使用开发创建类文件，甚至是某些代码块时，IDE自动按照规定的格式创建出类或代码的功能。如果类中有大量相似代码，使用模版可以极大的提高开发效率，降低出错概率。 下面我们看一下如何在Android Studio上使用"><meta property="og:type" content="blog"><meta property="og:title" content="Android Studio的三种类型的模版(Templates)创建"><meta property="og:url" content="https://chewenkai.github.io/uncategorized/android-studio%E7%9A%84%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%A8%A1%E7%89%88-templates-%E5%88%9B%E5%BB%BA/"><meta property="og:site_name" content="Calvin"><meta property="og:description" content="Android Studio的三种类型的模版(Templates)创建如果说使用快捷键是程序员的刀🔪，那灵活的使用代码模版就应该是程序员的剑。 这里说的模版(Templates)，是指在使用开发创建类文件，甚至是某些代码块时，IDE自动按照规定的格式创建出类或代码的功能。如果类中有大量相似代码，使用模版可以极大的提高开发效率，降低出错概率。 下面我们看一下如何在Android Studio上使用"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://s2.ax1x.com/2019/03/08/kxO5IP.png"><meta property="og:image" content="https://s2.ax1x.com/2019/03/08/kxLON6.png"><meta property="og:image" content="https://s2.ax1x.com/2019/03/08/kxXswn.png"><meta property="og:image" content="https://s2.ax1x.com/2019/03/08/kxjS0A.png"><meta property="og:image" content="https://s2.ax1x.com/2019/03/08/kxjpTI.md.png"><meta property="og:image" content="https://s2.ax1x.com/2019/03/08/kxjiff.md.png"><meta property="og:image" content="https://s2.ax1x.com/2019/03/08/kxjE6g.png"><meta property="og:image" content="https://s2.ax1x.com/2019/03/08/kxjrcD.png"><meta property="og:image" content="https://s2.ax1x.com/2019/03/08/ASP654.png"><meta property="og:image" content="https://s2.ax1x.com/2019/03/08/ASP4r6.png"><meta property="og:image" content="https://s2.ax1x.com/2019/03/08/ASiiGj.png"><meta property="article:published_time" content="2019-03-07T15:43:35.000Z"><meta property="article:author" content="calvinche"><meta property="article:tag" content="Android"><meta property="article:tag" content="日常总结"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://s2.ax1x.com/2019/03/08/kxO5IP.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://chewenkai.github.io/uncategorized/android-studio%E7%9A%84%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%A8%A1%E7%89%88-templates-%E5%88%9B%E5%BB%BA/"},"headline":"Android Studio的三种类型的模版(Templates)创建","image":["https://s2.ax1x.com/2019/03/08/kxO5IP.png","https://s2.ax1x.com/2019/03/08/kxLON6.png","https://s2.ax1x.com/2019/03/08/kxXswn.png","https://s2.ax1x.com/2019/03/08/kxjS0A.png","https://s2.ax1x.com/2019/03/08/kxjpTI.md.png","https://s2.ax1x.com/2019/03/08/kxjiff.md.png","https://s2.ax1x.com/2019/03/08/kxjE6g.png","https://s2.ax1x.com/2019/03/08/kxjrcD.png","https://s2.ax1x.com/2019/03/08/ASP654.png","https://s2.ax1x.com/2019/03/08/ASP4r6.png","https://s2.ax1x.com/2019/03/08/ASiiGj.png"],"datePublished":"2019-03-07T15:43:35.000Z","author":{"@type":"Person","name":"calvinche"},"publisher":{"@type":"Organization","name":"Calvin","logo":{"@type":"ImageObject","url":"https://chewenkai.github.io/img/logo.svg"}},"description":"Android Studio的三种类型的模版(Templates)创建如果说使用快捷键是程序员的刀🔪，那灵活的使用代码模版就应该是程序员的剑。 这里说的模版(Templates)，是指在使用开发创建类文件，甚至是某些代码块时，IDE自动按照规定的格式创建出类或代码的功能。如果类中有大量相似代码，使用模版可以极大的提高开发效率，降低出错概率。 下面我们看一下如何在Android Studio上使用"}</script><link rel="canonical" href="https://chewenkai.github.io/uncategorized/android-studio%E7%9A%84%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%A8%A1%E7%89%88-templates-%E5%88%9B%E5%BB%BA/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-72437521-5" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-72437521-5');</script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css"><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 6.0.0">
<style>.not-gallery-item { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .not-gallery-item > span { position: relative; z-index: 10; }  .not-gallery-item img, .not-gallery-item .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .not-gallery-item img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .not-gallery-item-fallback { color: inherit; } .not-gallery-item-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Calvin" type="application/atom+xml">
</head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Calvin" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Discuss on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus/discussions"><i class="fas fa-comments"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-07T15:43:35.000Z" title="3/7/2019, 11:43:35 PM">2019-03-07</time></span><span class="level-item">22 minutes read (About 3275 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Android Studio的三种类型的模版(Templates)创建</h1><div class="content"><h2 id="Android-Studio的三种类型的模版-Templates-创建"><a href="#Android-Studio的三种类型的模版-Templates-创建" class="headerlink" title="Android Studio的三种类型的模版(Templates)创建"></a>Android Studio的三种类型的模版(Templates)创建</h2><p>如果说使用快捷键是程序员的刀🔪，那灵活的使用代码模版就应该是程序员的剑。</p>
<p>这里说的模版(Templates)，是指在使用开发创建类文件，甚至是某些代码块时，IDE自动按照规定的格式创建出类或代码的功能。如果类中有大量相似代码，使用模版可以极大的提高开发效率，降低出错概率。</p>
<p>下面我们看一下如何在Android Studio上使用<strong>模版</strong>，我将讲述三种模版的创建，分别是：</p>
<ul>
<li>使用<strong>Live Templates</strong>创建代码块模版</li>
<li>使用<strong>File and Code Templates</strong>创建类模版</li>
<li><strong>基于FreeMarker</strong>创建多文件模版</li>
</ul>
<h3 id="1-代码块模版"><a href="#1-代码块模版" class="headerlink" title="1.代码块模版"></a>1.代码块模版</h3><p>java中经常需要定义这样的静态常量：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">DEFAULT_VALUE</span> <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></tbody></table></figure>

<p>使用Live Templates后，就可以直接输入const就可以快速定义静态常量：</p>
<p><img src="https://s2.ax1x.com/2019/03/08/kxO5IP.png"></p>
<p>其设置方法是，打开File-&gt;Setting（⌘+,）,搜索“Live Templates”，打开如下的界面：</p>
<p><img src="https://s2.ax1x.com/2019/03/08/kxLON6.png"></p>
<p>其中，<em>1</em>指的是缩写和该缩写的描述；<em>2</em>中输入的是模版的内容；<em>3</em>中可以指定该模版应用生效的语言和场所，例如，可以限制该模版只应用到Java语言定义变量(declaration)的时候; <em>4</em>可以将模版中变化的部分定义为变量，如上图中的<code>${name}</code>和<code>${value}</code>     </p>
<p>上面例子中的const是默认的模版，你可以点击加号添加自己的模版，例如为kotlin定义一个tag常量的模版：</p>
<p><img src="https://s2.ax1x.com/2019/03/08/kxXswn.png"></p>
<span id="more"></span>

<h3 id="2-创建类模版"><a href="#2-创建类模版" class="headerlink" title="2.创建类模版"></a>2.创建类模版</h3><p>如果我经常创建Fragment，有些必填的步骤就可以放到模版里去</p>
<p>打开File-&gt;setting,找到<strong>File and Code Templates</strong>，打开如下页面：</p>
<p><img src="https://s2.ax1x.com/2019/03/08/kxjS0A.png"></p>
<ol>
<li>点击加号创建新的类模版</li>
<li>在这填写模版的名字和生效的类型文件名</li>
<li>模版的内容，可变的部分用变量代替</li>
</ol>
<p>举例一个简单的Fragment模版:</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">if</span> (${PACKAGE_NAME} != <span class="string">""</span>)<span class="keyword">package</span> ${PACKAGE_NAME};#end</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.annotation.NonNull;</span><br><span class="line"><span class="keyword">import</span> androidx.annotation.Nullable;</span><br><span class="line"><span class="keyword">import</span> androidx.fragment.app.Fragment;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">$</span>{NAME} <span class="keyword">extends</span> <span class="title class_">Fragment</span> {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">TAG</span>  <span class="operator">=</span> <span class="string">"${NAME}"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ${NAME} newInstance() {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">$</span>{NAME}();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> View <span class="title function_">onCreateView</span><span class="params">(<span class="meta">@NonNull</span> LayoutInflater inflater, <span class="meta">@Nullable</span> ViewGroup container, <span class="meta">@Nullable</span> Bundle savedInstanceState)</span> {</span><br><span class="line">        <span class="keyword">return</span> inflater.inflate(R.layout.${layout}, container, <span class="literal">false</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>其中<code>${NAME}</code>代表的是类名变量，${layout}代表了资源文件名变量，这些变量在创建文件时会要求手动填入。</p>
<p>使用时，在文件夹上点击右键 new 的时候，就可以看到自己定义的模版了：</p>
<p><img src="https://s2.ax1x.com/2019/03/08/kxjpTI.md.png"></p>
<p>点击后，填写一下自定义的变量，就可以生成模版文件了：</p>
<p><img src="https://s2.ax1x.com/2019/03/08/kxjiff.md.png"></p>
<p>上方的layout就是在定义模版时定义的变量，而NAME变量是系统预留变量，会被影射成File name这个名字。关于定义类模版的具体用法，可以参考设置中其他的模版，或者参考文档：</p>
<p>https://www.jetbrains.com/help/idea/using-file-and-code-templates.html</p>
<p><strong>一个小尾巴</strong></p>
<p>这里顺便说一下如何<strong>定义类的作者信息</strong>模版：File and Code Template中有一个Includes标签，打开后是这个样子的：</p>
<p><img src="https://s2.ax1x.com/2019/03/08/kxjE6g.png"></p>
<p>这里填写一个模版，以后创建类的时候会自动把模版内容放在类名上方。一些像日期一样的变量可以在右下方查询。</p>
<h3 id="3-创建多文件模版"><a href="#3-创建多文件模版" class="headerlink" title="3.创建多文件模版"></a>3.创建多文件模版</h3><p>上面两种方法都是可以在设置中搞定的，比较好理解，下面这种就稍微复杂一点了。</p>
<p>相信大家肯定用File -&gt; new -&gt; Activity -&gt; EmptyActivity来创建一个新的页面，Android Studio会自动在manifest文件中注册Activity的名字，并创建好一个固定模版的Java和xml布局文件。</p>
<p>那么它是怎么实现的呢？我们可不可以像它一样也自定义创建多个不同类型的文件模版呢？答案是可以的。<strong>Android Studio使用的是Apache的FreeMarker模版引擎生成代码。</strong></p>
<p>Android Studio将所有的这种模版的配置文件放在下面路径：</p>
<p><strong>Windows</strong>:<code>{ANDROID_STUDIO_LOCATION}/plugins/android/lib/templates/</code></p>
<p><strong>MacOS</strong>:<code>Applications/Android Studio.app/Contents/plugins/android/lib/templates/</code></p>
<p>可以看下它的目录结构：</p>
<blockquote>
<p>-activities
-gradle
-gradle-projects
-other</p>
</blockquote>
<p>可以看出它大致对不同类型的模版进行了简单的分类，下面我们以就以activities为例，看一下它是怎么做的。</p>
<p>打开activities-&gt;EmptyActivity文件夹，可以看到创建模版所涉及的几个主要文件/夹：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">├── globals.xml.ftl</span><br><span class="line">├── recipe.xml.ftl</span><br><span class="line">├── root</span><br><span class="line">│&nbsp;&nbsp; └── src</span><br><span class="line">│&nbsp;&nbsp;     └── app_package</span><br><span class="line">│&nbsp;&nbsp;         ├── SimpleActivity.java.ftl</span><br><span class="line">│&nbsp;&nbsp;         └── SimpleActivity.kt.ftl</span><br><span class="line">├── template.xml</span><br><span class="line">└── template_blank_activity.png</span><br></pre></td></tr></tbody></table></figure>

<h4 id="template-xml"><a href="#template-xml" class="headerlink" title="template.xml"></a>template.xml</h4><p>在template.xml文件中，定义的是一些模版需要用到的变量：</p>
<figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span></span></span><br><span class="line"><span class="tag">    <span class="attr">format</span>=<span class="string">"5"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">revision</span>=<span class="string">"5"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">name</span>=<span class="string">"Empty Activity"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">minApi</span>=<span class="string">"9"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">minBuildApi</span>=<span class="string">"14"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">description</span>=<span class="string">"Creates a new empty activity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">value</span>=<span class="string">"Activity"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">formfactor</span> <span class="attr">value</span>=<span class="string">"Mobile"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">parameter</span></span></span><br><span class="line"><span class="tag">        <span class="attr">id</span>=<span class="string">"activityClass"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">"Activity Name"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">constraints</span>=<span class="string">"class|unique|nonempty"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">suggest</span>=<span class="string">"${layoutToActivity(layoutName)}"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">default</span>=<span class="string">"MainActivity"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">help</span>=<span class="string">"The name of the activity class to create"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    ...// 省略一些参数// ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 128x128 thumbnails relative to template.xml --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thumbs</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- default thumbnail is required --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">thumb</span>&gt;</span>template_blank_activity.png<span class="tag">&lt;/<span class="name">thumb</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thumbs</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">globals</span> <span class="attr">file</span>=<span class="string">"globals.xml.ftl"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">execute</span> <span class="attr">file</span>=<span class="string">"recipe.xml.ftl"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>这里简单介绍几个重要的属性和标签：</p>
<ul>
<li><strong>template中的name属性</strong>指定了该模版在Android Studio中显示的名字，如：File -&gt; new -&gt; Activity -&gt; <strong>EmptyActivity</strong></li>
<li><strong>category标签</strong>指定了该模版放在Android Studio的那个分类中，如File -&gt; new -&gt; <strong>Activity</strong> -&gt; EmptyActivity。这里的分类名字可以自己指定。</li>
<li><strong>parameter标签</strong>指定了该模版需要的参数，例如我在创建EmptyActivity时弹出的Wizard中的每一项其实都是在这里配置的(顺便说一下，<thumbs>标签配置的就是下图中的那个图片)：</thumbs></li>
</ul>
<p><img src="https://s2.ax1x.com/2019/03/08/kxjrcD.png"></p>
<ul>
<li><strong>globals标签和execute标签</strong>分别制定了全局变量的配置文件和最核心的行为控制的文件(这里recipe.xml.ftl文件我也不知道应该叫什么，暂时这么称呼吧)</li>
</ul>
<h4 id="recipe-xml-ftl"><a href="#recipe-xml-ftl" class="headerlink" title="recipe.xml.ftl"></a>recipe.xml.ftl</h4><p>这是整个配置的核心文件，如果template.xml文件是Android工程中的Layout布局文件，那recipe.xml.ftl就是java文件，它告诉Android Studio需要按照一定的顺序做一些逻辑工作，例如，创建文件，在IDE中打开文件等。下面我们看一下其内容：</p>
<figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0"?&gt;</span></span><br><span class="line">&lt;#import "root://activities/common/kotlin_macros.ftl" as kt&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">recipe</span>&gt;</span></span><br><span class="line">    &lt;#include "../common/recipe_manifest.xml.ftl" /&gt;</span><br><span class="line">    &lt;@kt.addAllKotlinDependencies /&gt;</span><br><span class="line"></span><br><span class="line">&lt;#if generateLayout&gt;</span><br><span class="line">    &lt;#in</span><br><span class="line">clude "../common/recipe_simple.xml.ftl" /&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">open</span> <span class="attr">file</span>=<span class="string">"${escapeXmlAttribute(resOut)}/layout/${layoutName}.xml"</span> /&gt;</span></span><br><span class="line">&lt;/#if&gt;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">instantiate</span> <span class="attr">from</span>=<span class="string">"root/src/app_package/SimpleActivity.${ktOrJavaExt}.ftl"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">to</span>=<span class="string">"${escapeXmlAttribute(srcOut)}/${activityClass}.${ktOrJavaExt}"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">open</span> <span class="attr">file</span>=<span class="string">"${escapeXmlAttribute(srcOut)}/${activityClass}.${ktOrJavaExt}"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">recipe</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>上面的&lt;#include/&gt;标签主要做了一些复用的工作，例如<code>&lt;#include "../common/recipe_manifest.xml.ftl" /&gt;</code>就是调用了recipe_manifest.xml.ftl文件在Manifest文件中插入了activity的信息。</p>
<p>我们主要关注下instantiate标签和open标签，这两句话翻译成自然语言就是：</p>
<blockquote>
<p>根据模版文件：<code>root/src/app_package/SimpleActivity.${ktOrJavaExt}.ftl</code>生成类文件到<code>${escapeXmlAttribute(srcOut)}/${activityClass}.${ktOrJavaExt}</code>中去。</p>
</blockquote>
<blockquote>
<p>然后在Android Studio中打开文件：<code>${escapeXmlAttribute(srcOut)}/${activityClass}.${ktOrJavaExt}</code></p>
</blockquote>
<p>如果需要同时生成多个文件，就需要在这里用instantiate标签生成。那么生成文件的模版是在哪里定义的呢？下面说的root文件夹就是。</p>
<h4 id="root文件夹（模版文件夹）"><a href="#root文件夹（模版文件夹）" class="headerlink" title="root文件夹（模版文件夹）"></a>root文件夹（模版文件夹）</h4><p>root指的是工程的代码根目录，其内部是src、res甚至AndroidManifest.xml.ftl这样跟工程目录对应位置的模版文件。我们以root/src/app_package/SimpleActivity.java.ftl文件为例，看下其模版是怎么定义的：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ${packageName};</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ${superClassFqcn};</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line">&lt;#<span class="keyword">if</span> (includeCppSupport!<span class="literal">false</span>) &amp;&amp; generateLayout&gt;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line">&lt;/#<span class="keyword">if</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">$</span>{activityClass} <span class="keyword">extends</span> <span class="title class_">$</span>{superClass} {</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(Bundle savedInstanceState)</span> {</span><br><span class="line">        <span class="built_in">super</span>.onCreate(savedInstanceState);</span><br><span class="line">&lt;#<span class="keyword">if</span> generateLayout&gt;</span><br><span class="line">        setContentView(R.layout.${layoutName});</span><br><span class="line">       &lt;#include <span class="string">"../../../../common/jni_code_usage.java.ftl"</span>&gt;</span><br><span class="line">&lt;#elseif includeCppSupport!<span class="literal">false</span>&gt;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Example of a call to a native method</span></span><br><span class="line">        android.util.Log.d(<span class="string">"${activityClass}"</span>, stringFromJNI());</span><br><span class="line">&lt;/#<span class="keyword">if</span>&gt;</span><br><span class="line">    }</span><br><span class="line">&lt;#include <span class="string">"../../../../common/jni_code_snippet.java.ftl"</span>&gt;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>可以看出，就是对一个Activity进行了模版化，其中很多变量提高了该模版的可扩展性，这里可以使用include引入其他模版的内容，或者使用if来进行条件判断，功能还是蛮强大的，更多的语法内容，可以参考FreeMarker模版引擎的文档：</p>
<p>https://freemarker.apache.org/</p>
<p>关于AndroidStudio的EmptyActivity模版创建分析就先到这里，下面我们实际的应用一下看看。</p>
<h3 id="实战：创建列表Adapter模版"><a href="#实战：创建列表Adapter模版" class="headerlink" title="实战：创建列表Adapter模版"></a>实战：创建列表Adapter模版</h3><h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><p>目前做的工程中对RecycleView进行了封装，每次创建列表的Adapter时需要创建一系列文件才能开始写逻辑，这些文件包括：</p>
<ul>
<li><p>列表的Adapter文件</p>
</li>
<li><p>数据Model的Pojo文件</p>
</li>
<li><p>列表中的View文件(ListItemView)</p>
</li>
<li><p>View文件的layout文件</p>
</li>
</ul>
<p>为了减少创建列表Adapter的工作量，按照下面步骤为其创建一套类似于EmptyActivity的模版：</p>
<h4 id="Step-1-创建相关文件"><a href="#Step-1-创建相关文件" class="headerlink" title="Step 1. 创建相关文件"></a>Step 1. 创建相关文件</h4><p>在第三节提到的Templates路径中的other文件夹下新建一个文件夹，随意命名为“ListAdapter”，然后在内部创建下面的文件目录：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">f├── globals.xml.ftl</span><br><span class="line">f├── recipe.xml.ftl</span><br><span class="line">d├── root</span><br><span class="line">d│&nbsp;&nbsp; ├── res</span><br><span class="line">d│&nbsp;&nbsp; │&nbsp;&nbsp; └── layout</span><br><span class="line">f│&nbsp;&nbsp; │&nbsp;&nbsp;     └── layout.xml.ftl</span><br><span class="line">d│&nbsp;&nbsp; └── src</span><br><span class="line">d│&nbsp;&nbsp;     └── app_package</span><br><span class="line">f│&nbsp;&nbsp;         ├── Adapter.kt.ftl</span><br><span class="line">f│&nbsp;&nbsp;         ├── ItemView.kt.ftl</span><br><span class="line">f│&nbsp;&nbsp;         └── Model.kt.ftl</span><br><span class="line">f└── template.xml</span><br></pre></td></tr></tbody></table></figure>

<h4 id="Step-2-配置template-xml"><a href="#Step-2-配置template-xml" class="headerlink" title="Step 2. 配置template.xml"></a>Step 2. 配置template.xml</h4><p>要想灵活的填写创建Adapter时涉及到的文件的名字，就要将这些名字参数化，在创建之前让程序员填写，这就需要在template文件中配置相应的参数：</p>
<figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span></span></span><br><span class="line"><span class="tag">        <span class="attr">format</span>=<span class="string">"5"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">revision</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">"Create RecycleView Adapter"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">minApi</span>=<span class="string">"9"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">minBuildApi</span>=<span class="string">"14"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">description</span>=<span class="string">"Create a RecycleView Adapter in DreamReader."</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">value</span>=<span class="string">"DreamReader"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">formfactor</span> <span class="attr">value</span>=<span class="string">"Mobile"</span> /&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">parameter</span> <span class="attr">id</span>=<span class="string">"adapterName"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">name</span>=<span class="string">"Adapter Name"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">type</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">constraints</span>=<span class="string">"class|unique|nonempty"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">default</span>=<span class="string">"RecycleViewAdapter"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">help</span>=<span class="string">"The name of the adapter of RecycleView"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">parameter</span> <span class="attr">id</span>=<span class="string">"layoutName"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">name</span>=<span class="string">"Layout Name"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">type</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">constraints</span>=<span class="string">"layout|nonempty|unique"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">default</span>=<span class="string">"view_list_item"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">help</span>=<span class="string">"The name of the layout file of RecycleView"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">parameter</span> <span class="attr">id</span>=<span class="string">"itemViewName"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">name</span>=<span class="string">"Item View Name"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">type</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">constraints</span>=<span class="string">"class|unique|nonempty"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">default</span>=<span class="string">"ItemListView"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">help</span>=<span class="string">"The name of the item list view class of RecycleView"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">parameter</span> <span class="attr">id</span>=<span class="string">"modelName"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">name</span>=<span class="string">"Model Name"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">type</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">constraints</span>=<span class="string">"class|unique|nonempty"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">default</span>=<span class="string">"ItemModel"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">help</span>=<span class="string">"The name of the data model class of RecycleView"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">globals</span> <span class="attr">file</span>=<span class="string">"globals.xml.ftl"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">execute</span> <span class="attr">file</span>=<span class="string">"recipe.xml.ftl"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>从上面可以看出，我们自定义了一个名字为DreamReader的category，并将该模版的名字命名为:Create RecycleView Adapter.然后添加了四个参数：<code>adapterName</code>，<code>layoutName</code>，<code>itemViewName</code>，<code>modelName</code>。最后制定了global文件和execute文件的名字。</p>
<h4 id="Step-3-配置global文件"><a href="#Step-3-配置global文件" class="headerlink" title="Step 3.配置global文件"></a>Step 3.配置global文件</h4><p>global文件需要指定用到的全局变量，这里只需要用到src和res路径：</p>
<figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">globals</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">global</span> <span class="attr">id</span>=<span class="string">"srcOut"</span> <span class="attr">value</span>=<span class="string">"${srcDir}/${slashedPackageName(packageName)}"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">global</span> <span class="attr">id</span>=<span class="string">"resOut"</span> <span class="attr">value</span>=<span class="string">"${resDir}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">globals</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="Step-4-配置recipe文件"><a href="#Step-4-配置recipe文件" class="headerlink" title="Step 4. 配置recipe文件"></a>Step 4. 配置recipe文件</h4><p>recipe文件中写明了具体要进行的操作，指定了具体模版文件的路径和名字:</p>
<figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0"?&gt;</span></span><br><span class="line">&lt;#import "root://activities/common/kotlin_macros.ftl" as kt&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">recipe</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">instantiate</span> <span class="attr">from</span>=<span class="string">"root/src/app_package/Adapter.kt.ftl"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">to</span>=<span class="string">"${escapeXmlAttribute(srcOut)}/${adapterName}.kt"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">open</span> <span class="attr">file</span>=<span class="string">"${escapeXmlAttribute(srcOut)}/${adapterName}.kt"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">instantiate</span> <span class="attr">from</span>=<span class="string">"root/src/app_package/Model.kt.ftl"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">to</span>=<span class="string">"${escapeXmlAttribute(srcOut)}/${modelName}.kt"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">open</span> <span class="attr">file</span>=<span class="string">"${escapeXmlAttribute(srcOut)}/${modelName}.kt"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">instantiate</span> <span class="attr">from</span>=<span class="string">"root/src/app_package/ItemView.kt.ftl"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">to</span>=<span class="string">"${escapeXmlAttribute(srcOut)}/${itemViewName}.kt"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">open</span> <span class="attr">file</span>=<span class="string">"${escapeXmlAttribute(srcOut)}/${itemViewName}.kt"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">instantiate</span> <span class="attr">from</span>=<span class="string">"root/res/layout/layout.xml.ftl"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">to</span>=<span class="string">"${escapeXmlAttribute(resOut)}/layout/${layoutName}.xml"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">open</span> <span class="attr">file</span>=<span class="string">"${escapeXmlAttribute(resOut)}/layout/${layoutName}.xml"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">recipe</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>上面代码生成(instantiate)了四个文件，并且让其全部在IDE中打开(open)。其中每个生成一个文件，都为其指定了具体的模版文件:<code>Adapter.kt.ftl</code>、<code>Model.kt.ftl</code>、<code>ItemView.kt.ftl</code>、<code>layout.xml.ftl</code></p>
<h4 id="Step-5-编写具体的模版文件"><a href="#Step-5-编写具体的模版文件" class="headerlink" title="Step 5. 编写具体的模版文件"></a>Step 5. 编写具体的模版文件</h4><p>下面贴出我写的具体的模版文件内容，由于我是用kotlin写的，所以后缀是kt.ftl，如果是java文件则应该是java.ftl后缀:</p>
<p>Adapter.kt.ftl</p>
<figure class="highlight kotlin"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ${escapeKotlinIdentifiers(packageName)}</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context</span><br><span class="line"><span class="keyword">import</span> android.view.View</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup</span><br><span class="line"><span class="keyword">import</span> com.tencent.news.pullrefreshrecyclerview.RecyclerViewAdapterEx</span><br><span class="line"><span class="keyword">import</span> com.tencent.news.pullrefreshrecyclerview.RecyclerViewHolderEx</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> $</span>{adapterName}(<span class="keyword">val</span> context:Context) : RecyclerViewAdapterEx&lt;${modelName}&gt;() {</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> TYPE_DEFAULT = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getNormalItemType</span><span class="params">(position: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> {</span><br><span class="line">        <span class="keyword">return</span> TYPE_DEFAULT</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getLayoutViewByViewType</span><span class="params">(parent: <span class="type">ViewGroup</span>?, viewType: <span class="type">Int</span>)</span></span>: View {</span><br><span class="line">        <span class="keyword">return</span> ${itemViewName}(context)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">bindData</span><span class="params">(holder: <span class="type">RecyclerViewHolderEx</span>?, <span class="keyword">data</span>: ${<span class="type">modelName</span>}?, dataPos: <span class="type">Int</span>)</span></span> {</span><br><span class="line">        (holder?.itemView <span class="keyword">as</span>? ${itemViewName})?.setData(<span class="keyword">data</span>, dataPos)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>其中用到的变量名字都是在第二步中的template中定义的。</p>
<p>Model.kt.ftl</p>
<figure class="highlight kotlin"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ${escapeKotlinIdentifiers(packageName)}</span><br><span class="line"></span><br><span class="line"><span class="keyword">data</span> <span class="class"><span class="keyword">class</span> $</span>{modelName}(<span class="keyword">var</span> name:String)</span><br></pre></td></tr></tbody></table></figure>

<p>ItemView.kt.ftl</p>
<figure class="highlight kotlin"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ${escapeKotlinIdentifiers(packageName)}</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context</span><br><span class="line"><span class="keyword">import</span> android.util.AttributeSet</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater</span><br><span class="line"><span class="keyword">import</span> android.widget.RelativeLayout</span><br><span class="line">&lt;#<span class="keyword">if</span> applicationPackage??&gt;</span><br><span class="line"><span class="keyword">import</span> ${applicationPackage}.R</span><br><span class="line">&lt;/#<span class="keyword">if</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> kotlinx.android.synthetic.main.${layoutName}.*</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> $</span>{itemViewName} <span class="meta">@JvmOverloads</span> <span class="keyword">constructor</span>(context: Context,</span><br><span class="line">                                                        attributeSet: AttributeSet? = <span class="literal">null</span>,</span><br><span class="line">                                                        defStyleAttributeSet: <span class="built_in">Int</span> = <span class="number">0</span>)</span><br><span class="line">    : RelativeLayout(context, attributeSet, defStyleAttributeSet) {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span> {</span><br><span class="line">        LayoutInflater.from(context).inflate(R.layout.${layoutName}, <span class="keyword">this</span>, <span class="literal">true</span>)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">setData</span><span class="params">(<span class="keyword">data</span>: ${<span class="type">modelName</span>}?, index: <span class="type">Int</span>)</span></span> {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>layout.xml.ftl</p>
<figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">FrameLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/sample_text"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"Hello World!"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintLeft_toLeftOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintRight_toRightOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">"parent"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">FrameLayout</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="Step-6-使用"><a href="#Step-6-使用" class="headerlink" title="Step 6.使用"></a>Step 6.使用</h4><p>重启Android Studio，这样，再写列表时，就可以一键生成上面四个文件了，在New列表中可以看到我们定义的category和name：</p>
<p><img src="https://s2.ax1x.com/2019/03/08/ASP654.png"></p>
<p>点击后，弹出填写参数的窗口:</p>
<p><img src="https://s2.ax1x.com/2019/03/08/ASP4r6.png"></p>
<p>框中的内容都是我们自定义的内容，可以在这里填入想要的文件名，点击finish就生成了相应的文件：</p>
<p><img src="https://s2.ax1x.com/2019/03/08/ASiiGj.png"></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>以上就是对Android Studio中模版用法的介绍和简单理解，可能有很多错误的地方，如有问题欢迎指正。本文主要讲了在Android Studio中创建<strong>Live Templates</strong>代码块模版、<strong>File and Code Templates</strong>类模版以及创建多文件模版，希望大家在工作中能巧用模版，提高效率。</p>
<p>除了Android Studio，其他JetBrain产品例如Intelli J、Clion、Pycharm等应该都是一样的，但是需要大家自己尝试一下，话说 Jetbrain真是在让程序员变懒这条路上一去不复返了😂。</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p>[1] https://medium.com/androidstarters/mastering-android-studio-templates-ed8fdd98cb78</p>
<p>[2] https://riggaroo.co.za/custom-file-template-group-android-studiointellij/</p>
<p>[3] https://www.jetbrains.com/help/idea/using-file-and-code-templates.html</p>
<p>[4] https://www.jetbrains.com/help/idea/using-live-templates.html</p>
<p>[5] https://freemarker.apache.org/</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>Android Studio的三种类型的模版(Templates)创建</p><p><a href="https://chewenkai.github.io/uncategorized/android-studio的三种类型的模版-templates-创建/">https://chewenkai.github.io/uncategorized/android-studio的三种类型的模版-templates-创建/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>calvinche</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2019-03-07</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="" rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Android/">Android</a><a class="link-muted mr-2" rel="tag" href="/tags/%E6%97%A5%E5%B8%B8%E6%80%BB%E7%BB%93/">日常总结</a></div><div class="sharethis-inline-share-buttons"></div><script src="//platform-api.sharethis.com/js/sharethis.js#property=5ab6f60ace89f00013641890&amp;product=inline-share-buttons" defer></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/uncategorized/%E5%88%9D%E8%AF%86viewpager2/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">初识ViewPager2</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/uncategorized/%E5%B0%86viewpager%E6%94%BE%E5%9C%A8recyclerview%E4%B8%AD%E7%9A%84%E9%97%AE%E9%A2%98/"><span class="level-item">将ViewPager放在RecyclerView中的问题</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="calvinche"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">calvinche</p><p class="is-size-6 is-block">Android Developer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Center of the universe.</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">39</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">19</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/chewenkai" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/chewenkai"><i class="fab fa-github"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Android/"><span class="level-start"><span class="level-item">Android</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%AD%A6%E4%B9%A0/"><span class="level-start"><span class="level-item">学习</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">工具</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%97%A5%E5%B8%B8%E6%80%BB%E7%BB%93/"><span class="level-start"><span class="level-item">日常总结</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%97%A5%E5%B8%B8%E6%B1%87%E6%8A%A5/"><span class="level-start"><span class="level-item">日常汇报</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/"><span class="level-start"><span class="level-item">日常记录</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E9%9D%A2%E8%AF%95/"><span class="level-start"><span class="level-item">面试</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E9%9D%A2%E8%AF%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="level-start"><span class="level-item">数据结构</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Andoird/"><span class="tag">Andoird</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android/"><span class="tag">Android</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Demo/"><span class="tag">Demo</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/English/"><span class="tag">English</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MacOS/"><span class="tag">MacOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/StarDict/"><span class="tag">StarDict</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Study/"><span class="tag">Study</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VIM/"><span class="tag">VIM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VirtualBox/"><span class="tag">VirtualBox</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8A%A5%E5%91%8A/"><span class="tag">报告</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8A%BD%E6%A0%B7%E7%9B%91%E7%9D%A3%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"><span class="tag">抽样监督管理系统</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8E%92%E5%BA%8F/"><span class="tag">排序</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%A5%E5%B8%B8%E6%80%BB%E7%BB%93/"><span class="tag">日常总结</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/"><span class="tag">日常记录</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%89%9B%E5%AE%A2/"><span class="tag">牛客</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95/"><span class="tag">算法</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9D%A2%E8%AF%95/"><span class="tag">面试</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Calvin" height="28"></a><p class="is-size-7"><span>&copy; 2023 calvinche</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Discuss on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus/discussions"><i class="fas fa-comments"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script><!-- hexo injector body_end start -->
    <script>
    (() => {
        function switchTab() {
            if (!location.hash) {
              return;
            }
            Array
                .from(document.querySelectorAll('.tab-content'))
                .forEach($tab => {
                    $tab.classList.add('is-hidden');
                });
            Array
                .from(document.querySelectorAll('.tabs li'))
                .forEach($tab => {
                    $tab.classList.remove('is-active');
                });
            const $activeTab = document.querySelector(location.hash);
            if ($activeTab) {
                $activeTab.classList.remove('is-hidden');
            }
            const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
            if ($tabMenu) {
                $tabMenu.parentElement.classList.add('is-active');
            }
        }
        switchTab();
        window.addEventListener('hashchange', switchTab, false);
    })();
    </script>
    <!-- hexo injector body_end end --></body></html>