<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><title>Tag: 日常记录 - Calvin</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#f7f7f7"><meta name="application-name" content="Kaka"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="msapplication-TileColor" content="#f7f7f7"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Kaka"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="description"><meta property="og:type" content="blog"><meta property="og:title" content="Calvin"><meta property="og:url" content="https://chewenkai.github.io/"><meta property="og:site_name" content="Calvin"><meta property="og:description" content="description"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://chewenkai.github.io/img/og_image.png"><meta property="article:author" content="calvinche"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://chewenkai.github.io"},"headline":"Calvin","image":["https://chewenkai.github.io/img/og_image.png"],"author":{"@type":"Person","name":"calvinche"},"publisher":{"@type":"Organization","name":"Calvin","logo":{"@type":"ImageObject","url":"https://chewenkai.github.io/img/logo.svg"}},"description":"description"}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-72437521-5" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-72437521-5');</script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css"><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 6.0.0">
<style>.not-gallery-item { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .not-gallery-item > span { position: relative; z-index: 10; }  .not-gallery-item img, .not-gallery-item .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .not-gallery-item img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .not-gallery-item-fallback { color: inherit; } .not-gallery-item-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Calvin" type="application/atom+xml">
</head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Calvin" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Discuss on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus/discussions"><i class="fas fa-comments"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">日常记录</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-04-12T18:17:40.000Z" title="4/13/2024, 2:17:40 AM">2024-04-13</time></span><span class="level-item">3 minutes read (About 444 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/uncategorized/flutter-app-stuck-at-installing-with-white-screen/">Flutter app stuck at installing with white screen</a></h1><div class="content"><h3 id="Problem-Background-and-Symptoms"><a href="#Problem-Background-and-Symptoms" class="headerlink" title="Problem Background and Symptoms:"></a>Problem Background and Symptoms:</h3><p>A while ago, I tried setting up the Flutter environment and had a brief experience with it. After a long break, I recently became interested again and wanted to see what changes Flutter has undergone.</p>
<ol>
<li>I followed the official tutorial to set up the Flutter environment and ran <code>flutter doctor</code> without any issues.</li>
<li>I downloaded a demo app project and tried running it on iOS. After the compilation completed, the app was installed on the simulator, but it got stuck on a white screen.</li>
<li>After killing the app, I manually opened it, and it worked fine.</li>
</ol>
<h3 id="Attempts-and-Solutions"><a href="#Attempts-and-Solutions" class="headerlink" title="Attempts and Solutions:"></a>Attempts and Solutions:</h3><ol>
<li>I tried installing it on an Android emulator, but encountered the same issue ❌.</li>
<li>I attempted to run <code>flutter clean</code> to clear the cache, but the problem persisted ❌.</li>
<li>I tried running <code>flutter pub cache clean</code> to clear the dependency cache, but the problem remained ❌.</li>
<li>Running <code>flutter run -v</code> to view the output, I noticed that it got stuck at the line <code>Connecting to service protocol:http://127.0.0.1:57071/0dqLN-ZPpFk=/</code>. I suspected an issue with port 57071, so I ran <code>lsof -i:57071</code> to check the process ID occupying that port and then killed the process using <code>kill &lt;pid&gt;</code>. However, the issue persisted, and I realized that the service changed ports every time, so the problem wasn’t related to that ❌.</li>
<li>Suddenly, I noticed that every time I ran a Flutter command, the first line was <code>Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this source!</code>. I remembered that I had changed the source due to a poor network environment in the past. Could it be an issue with this source? I quickly checked the <code>~/.zshrc</code> file and found the following configuration:<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class="line"><span class="built_in">export</span> FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br><span class="line"><span class="built_in">export</span> FLUTTER_GIT_URL=https://gitee.com/mirrors/Flutter.g</span><br></pre></td></tr></tbody></table></figure>
I deleted these lines, restarted VSCode, and ran the command again. The problem was resolved. In retrospect, it seems that the content of this source was outdated or incorrect! ✅</li>
</ol>
<blockquote>
<h4 id="In-summary-one-should-not-easily-trust-third-party-sources-Configuring-the-network-environment-correctly-is-always-the-first-step-in-setting-up-the-environment"><a href="#In-summary-one-should-not-easily-trust-third-party-sources-Configuring-the-network-environment-correctly-is-always-the-first-step-in-setting-up-the-environment" class="headerlink" title="In summary, one should not easily trust third-party sources. Configuring the network environment correctly is always the first step in setting up the environment."></a>In summary, one should not easily trust third-party sources. Configuring the network environment correctly is always the first step in setting up the environment.</h4></blockquote>
<p>After searching on Stack Overflow for a while, I couldn’t find any answers pointing to the source. I’m documenting this experience here, hoping it can help others facing the same issue. ♥️</p>
<p>If the above solution doesn’t resolve your problem, you can refer to:</p>
<p>https://stackoverflow.com/questions/75665760/flutter-run-stuck-on-launching</p>
<p>https://stackoverflow.com/questions/68698437/flutter-app-stuck-at-installing-with-white-screen</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-04-12T18:17:40.000Z" title="4/13/2024, 2:17:40 AM">2024-04-13</time></span><span class="level-item">4 minutes read (About 593 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/uncategorized/flutter%E8%BF%90%E8%A1%8C%E5%90%8E%E7%99%BD%E5%B1%8F%E5%8D%A1%E4%BD%8F%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8-flutter-app-stuck-at-installing-with-white-screen/">flutter运行后白屏卡住无法启动 / Flutter app stuck at installing with white screen</a></h1><div class="content"><h3 id="问题背景和症状："><a href="#问题背景和症状：" class="headerlink" title="问题背景和症状："></a>问题背景和症状：</h3><p>很久之前尝试配置过一次flutter环境，体验了一下。很久没用了，最近有了兴趣，又想看下flutter有什么变化。</p>
<ol>
<li>按照官方教程装好了flutter环境，运行<code>flutter doctor</code>无异常项</li>
<li>下载了一个demo app工程，点击运行（ios），编译完成后，安装到了模拟器上，app自动打开了，但是卡在白屏。</li>
<li>杀死app后，手动打开能正常进入。</li>
</ol>
<h3 id="尝试和解决"><a href="#尝试和解决" class="headerlink" title="尝试和解决"></a>尝试和解决</h3><ol>
<li>尝试安装到android模拟器上，也是同样的症状❌</li>
<li>尝试运行<code>flutter clean</code>清除缓存，问题没有解决❌</li>
<li>尝试运行<code>flutter pub cache clean</code>清除依赖缓存，问题没有解决❌</li>
<li>运行<code>flutter run -v</code>查看输出信息，发现最后是卡在<code>Connecting to service protocol:http://127.0.0.1:57071/0dqLN-ZPpFk=/</code>这一行了，怀疑是57071这个端口有问题，运行<code>lsof -i:57071</code>查看占用这个端口的进程的pid，然后运行<code>kill &lt;pid&gt;</code>杀掉这个进程。再次运行发现还是不行，并且发现这个service每次都会换个端口，问题应该不是在这。❌</li>
<li>忽然留意到每次运行flutter命令的时候，第一句都是<code>Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this source!</code>，想起来以前因为网络环境不好，换过源，不会是这个源有问题吧，于是赶紧查看<code>~/.zshrc</code>文件，果然在里面发现了这个配置<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class="line"><span class="built_in">export</span> FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br><span class="line"><span class="built_in">export</span> FLUTTER_GIT_URL=https://gitee.com/mirrors/Flutter.g</span><br></pre></td></tr></tbody></table></figure>
删掉这几行，然后重启vscode，再次运行，问题就解决了。回顾一下应该就是这个源的内容不够新甚至不正确导致的！✅</li>
</ol>
<hr>
<blockquote>
<h3 id="总结，不能轻易相信第三方源，配置好网络环境永远是配置环境的第一步"><a href="#总结，不能轻易相信第三方源，配置好网络环境永远是配置环境的第一步" class="headerlink" title="总结，不能轻易相信第三方源，配置好网络环境永远是配置环境的第一步"></a>总结，不能轻易相信第三方源，配置好网络环境永远是配置环境的第一步</h3></blockquote>
<p>stackoverflow上查了半天，没有一个将问题指向源的，在此做下记录，希望能帮助到遇到同样问题的人。♥️</p>
<p>如果上面没有解决你的问题，可以参考:</p>
<p>https://stackoverflow.com/questions/75665760/flutter-run-stuck-on-launching</p>
<p>https://stackoverflow.com/questions/68698437/flutter-app-stuck-at-installing-with-white-screen</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-06-10T03:29:58.000Z" title="6/10/2019, 11:29:58 AM">2019-06-10</time></span><span class="level-item">7 minutes read (About 1033 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/uncategorized/%E8%AE%B0%E4%B8%80%E6%AC%A1overloadaggressively%E9%80%A0%E6%88%90%E7%9A%84%E5%B4%A9%E6%BA%83/">记一次overloadaggressively造成的崩溃</a></h1><div class="content"><p>将Kotlin版本从1.1.2-4升级到1.3.11后，发现打的release包开机就会崩溃：崩溃日志为</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">java.lang.RuntimeException: Unable to instantiate application com.tencent.sigma.patch.HotPatchApplication: java.lang.ClassNotFoundException: Didn<span class="string">'t find class "com.tencent.sigma.patch.HotPatchApplication" on path: DexPathList[[zip file "/data/app/com.tencent.dreamreader-P2-qUIVdDrdEOhONvRwOtw==/base.apk"],nativeLibraryDirectories=[/data/app/com.tencent.dreamreader-P2-qUIVdDrdEOhONvRwOtw==/lib/arm, /data/app/com.tencent.dreamreader-P2-qUIVdDrdEOhONvRwOtw==/base.apk!/lib/armeabi, /system/lib, /vendor/lib]]</span></span><br><span class="line"><span class="string">     at android.app.LoadedApk.makeApplication(LoadedApk.java:993)</span></span><br><span class="line"><span class="string">     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5801)</span></span><br><span class="line"><span class="string">     at android.app.ActivityThread.-wrap1(Unknown Source:0)</span></span><br><span class="line"><span class="string">     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1683)</span></span><br><span class="line"><span class="string">     at android.os.Handler.dispatchMessage(Handler.java:106)</span></span><br><span class="line"><span class="string">     at android.os.Looper.loop(Looper.java:173)</span></span><br><span class="line"><span class="string">     at android.app.ActivityThread.main(ActivityThread.java:6650)</span></span><br><span class="line"><span class="string">     at java.lang.reflect.Method.invoke(Native Method)</span></span><br><span class="line"><span class="string">     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)</span></span><br><span class="line"><span class="string">     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:818)</span></span><br><span class="line"><span class="string">  Caused by: java.lang.ClassNotFoundException: Didn'</span>t find class <span class="string">"com.tencent.sigma.patch.HotPatchApplication"</span> on path: DexPathList[[zip file <span class="string">"/data/app/com.tencent.dreamreader-P2-qUIVdDrdEOhONvRwOtw==/base.apk"</span>],nativeLibraryDirectories=[/data/app/com.tencent.dreamreader-P2-qUIVdDrdEOhONvRwOtw==/lib/arm, /data/app/com.tencent.dreamreader-P2-qUIVdDrdEOhONvRwOtw==/base.apk!/lib/armeabi, /system/lib, /vendor/lib]]</span><br><span class="line">     at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:125)</span><br><span class="line">     at java.lang.ClassLoader.loadClass(ClassLoader.java:379)</span><br><span class="line">     at java.lang.ClassLoader.loadClass(ClassLoader.java:312)</span><br><span class="line">     at android.app.Instrumentation.newApplication(Instrumentation.java:1088)</span><br><span class="line">     at android.app.LoadedApk.makeApplication(LoadedApk.java:987)</span><br><span class="line">     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5801)&nbsp;</span><br><span class="line">     at android.app.ActivityThread.-wrap1(Unknown Source:0)&nbsp;</span><br><span class="line">     at android.app.ActivityThread<span class="variable">$H</span>.handleMessage(ActivityThread.java:1683)&nbsp;</span><br><span class="line">     at android.os.Handler.dispatchMessage(Handler.java:106)&nbsp;</span><br><span class="line">     at android.os.Looper.loop(Looper.java:173)&nbsp;</span><br><span class="line">     at android.app.ActivityThread.main(ActivityThread.java:6650)&nbsp;</span><br><span class="line">     at java.lang.reflect.Method.invoke(Native Method)&nbsp;</span><br><span class="line">     at com.android.internal.os.RuntimeInit<span class="variable">$MethodAndArgsCaller</span>.run(RuntimeInit.java:547)&nbsp;</span><br><span class="line">     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:818)&nbsp;</span><br><span class="line"> 	Suppressed: java.io.IOException: Failed to open dex files from /data/app/com.tencent.dreamreader-P2-qUIVdDrdEOhONvRwOtw==/base.apk because: Failure to verify dex file <span class="string">'/data/app/com.tencent.dreamreader-P2-qUIVdDrdEOhONvRwOtw==/base.apk'</span>: Out-of-order annotation_element name_idx: 7150 <span class="keyword">then</span> 7150</span><br><span class="line">     at dalvik.system.DexFile.openDexFileNative(Native Method)</span><br><span class="line">     at dalvik.system.DexFile.openDexFile(DexFile.java:353)</span><br><span class="line">     at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:100)</span><br><span class="line">     at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:74)</span><br><span class="line">     at dalvik.system.DexPathList.loadDexFile(DexPathList.java:374)</span><br><span class="line">     at dalvik.system.DexPathList.makeDexElements(DexPathList.java:337)</span><br><span class="line">     at dalvik.system.DexPathList.&lt;init&gt;(DexPathList.java:157)</span><br><span class="line">     at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:65)</span><br><span class="line">     at dalvik.system.PathClassLoader.&lt;init&gt;(PathClassLoader.java:64)</span><br><span class="line">     at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:73)</span><br><span class="line">     at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:88)</span><br><span class="line">     at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:69)</span><br><span class="line">     at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:35)</span><br><span class="line">     at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:695)</span><br><span class="line">     at android.app.LoadedApk.getClassLoader(LoadedApk.java:729)</span><br><span class="line">     at android.app.LoadedApk.getResources(LoadedApk.java:956)</span><br><span class="line">     at android.app.ContextImpl.createAppContext(ContextImpl.java:2282)</span><br><span class="line">     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5723)</span><br><span class="line">     		... 8 more</span><br></pre></td></tr></tbody></table></figure>



<p>乍一看，以为是HotPatchApplication被混淆的原因导致Class Not Found，于是尝试keep住HotPatchApplication这个类，但是发现问题依旧。于是又怀疑是前不久升级gradle对分包造成了影响，对apk中的dex文件进行分析，发现HotPatchApplication这个类稳稳的躺在第一个dex文件中。</p>
<p>后来又进行了以下的尝试：</p>
<p>​     1.尝试按顺序更改Kotlin版本，最后，当Kotlin版本为1.3.0时，发现问题出现了。  </p>
<p>​    2.另一个线索是当我打开Proguard时，那就是<code>minifyEnable true</code>，崩溃就出现了。</p>
<p>经过以上排查，基本确定了问题出在Kotlin和混淆的身上。最后发现上述日志中有一行：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Suppressed: java.io.IOException: Failed to open dex files from /data/app/com.tencent.dreamreader-P2-qUIVdDrdEOhONvRwOtw==/base.apk because: Failure to verify dex file <span class="string">'/data/app/com.tencent.dreamreader-P2-qUIVdDrdEOhONvRwOtw==/base.apk'</span>: Out-of-order annotation_element name_idx: 7150 <span class="keyword">then</span> 7150</span><br></pre></td></tr></tbody></table></figure>

<p>这个报错是第一次见到，上网搜了下，最终定位在混淆时的一个参数身上：<code>-overloadaggressively</code></p>
<p>ProGuard官网解释：</p>
<blockquote>
<p>-overloadaggressively
Specifies to apply aggressive overloading while obfuscating. Multiple fields and methods can then get the same names, as long as their arguments and return types are different, as required by Java bytecode (not just their arguments, as required by the Java language). This option can make the processed code even smaller (and less comprehensible). Only applicable when obfuscating.</p>
</blockquote>
<p>可以看出，开启该选项可能把不同的方法或者变量混淆成相同的名字，这样会尽可能的减小代码体积。但是由于过于激进，造成了dex文件中有重复annotation_element，这个问题在编译和打包时并不会报错，只有在开启软件时才会发现。</p>
<p>至于为什么升级了Kotlin才有这个问题，猜测原因是新版本的kotlin中加入了Keep注释与Java的Keep注释同名造成的。</p>
<p><strong>解决办法：</strong></p>
<p>去掉混淆文件（proguard.txt）中的-overloadaggressively</p>
<p>参考：</p>
<p>https://stackoverflow.com/questions/56458360/app-crashed-when-r8-enabled-with-existing-proguard-settings</p>
<p>https://issuetracker.google.com/issues/129241209#comment11</p>
<p>https://stackoverflow.com/questions/51948250/failure-to-verify-dex-file-out-of-order-annotation-element-name-idx</p>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="calvinche"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">calvinche</p><p class="is-size-6 is-block">Android Developer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Center of the universe.</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">41</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">19</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/chewenkai" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/chewenkai"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Resum" href="https://github.com/chewenkai"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="http://gousbookstore.site:8000/ui/#!/downloading" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Downloader</span></span><span class="level-right"><span class="level-item tag">gousbookstore.site</span></span></a></li><li><a class="level is-mobile" href="http://gousbookstore.site:8000/apps/dashboard/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Driver</span></span><span class="level-right"><span class="level-item tag">gousbookstore.site</span></span></a></li><li><a class="level is-mobile" href="http://gousbookstore.site:2342/library/browse" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Photos</span></span><span class="level-right"><span class="level-item tag">gousbookstore.site</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Android/"><span class="level-start"><span class="level-item">Android</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%AD%A6%E4%B9%A0/"><span class="level-start"><span class="level-item">学习</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">工具</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%97%A5%E5%B8%B8%E6%80%BB%E7%BB%93/"><span class="level-start"><span class="level-item">日常总结</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%97%A5%E5%B8%B8%E6%B1%87%E6%8A%A5/"><span class="level-start"><span class="level-item">日常汇报</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/"><span class="level-start"><span class="level-item">日常记录</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E9%9D%A2%E8%AF%95/"><span class="level-start"><span class="level-item">面试</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E9%9D%A2%E8%AF%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="level-start"><span class="level-item">数据结构</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-04-12T18:17:40.000Z">2024-04-13</time></p><p class="title"><a href="/uncategorized/flutter-app-stuck-at-installing-with-white-screen/">Flutter app stuck at installing with white screen</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-04-12T18:17:40.000Z">2024-04-13</time></p><p class="title"><a href="/uncategorized/flutter%E8%BF%90%E8%A1%8C%E5%90%8E%E7%99%BD%E5%B1%8F%E5%8D%A1%E4%BD%8F%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8-flutter-app-stuck-at-installing-with-white-screen/">flutter运行后白屏卡住无法启动 / Flutter app stuck at installing with white screen</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-03-15T11:21:28.000Z">2020-03-15</time></p><p class="title"><a href="/uncategorized/%E6%AF%8F%E6%97%A5%E5%8D%95%E8%AF%8D%E8%AE%A1%E5%88%92/">每日单词计划</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2019-08-06T09:48:49.000Z">2019-08-06</time></p><p class="title"><a href="/uncategorized/git%E4%BF%9D%E5%91%BD%E5%A4%A7%E5%85%A8/">Git保命大全</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2019-06-10T03:29:58.000Z">2019-06-10</time></p><p class="title"><a href="/uncategorized/%E8%AE%B0%E4%B8%80%E6%AC%A1overloadaggressively%E9%80%A0%E6%88%90%E7%9A%84%E5%B4%A9%E6%BA%83/">记一次overloadaggressively造成的崩溃</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/04/"><span class="level-start"><span class="level-item">April 2024</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/08/"><span class="level-start"><span class="level-item">August 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/06/"><span class="level-start"><span class="level-item">June 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/03/"><span class="level-start"><span class="level-item">March 2019</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/02/"><span class="level-start"><span class="level-item">February 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/12/"><span class="level-start"><span class="level-item">December 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/10/"><span class="level-start"><span class="level-item">October 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/03/"><span class="level-start"><span class="level-item">March 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/01/"><span class="level-start"><span class="level-item">January 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/09/"><span class="level-start"><span class="level-item">September 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/08/"><span class="level-start"><span class="level-item">August 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/07/"><span class="level-start"><span class="level-item">July 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/05/"><span class="level-start"><span class="level-item">May 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/04/"><span class="level-start"><span class="level-item">April 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/03/"><span class="level-start"><span class="level-item">March 2017</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/01/"><span class="level-start"><span class="level-item">January 2015</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/01/"><span class="level-start"><span class="level-item">January 2014</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2013/01/"><span class="level-start"><span class="level-item">January 2013</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Andoird/"><span class="tag">Andoird</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android/"><span class="tag">Android</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Demo/"><span class="tag">Demo</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/English/"><span class="tag">English</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MacOS/"><span class="tag">MacOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/StarDict/"><span class="tag">StarDict</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Study/"><span class="tag">Study</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VIM/"><span class="tag">VIM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VirtualBox/"><span class="tag">VirtualBox</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8A%A5%E5%91%8A/"><span class="tag">报告</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8A%BD%E6%A0%B7%E7%9B%91%E7%9D%A3%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"><span class="tag">抽样监督管理系统</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8E%92%E5%BA%8F/"><span class="tag">排序</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%A5%E5%B8%B8%E6%80%BB%E7%BB%93/"><span class="tag">日常总结</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/"><span class="tag">日常记录</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%89%9B%E5%AE%A2/"><span class="tag">牛客</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95/"><span class="tag">算法</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9D%A2%E8%AF%95/"><span class="tag">面试</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Calvin" height="28"></a><p class="is-size-7"><span>&copy; 2024 calvinche</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Discuss on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus/discussions"><i class="fas fa-comments"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>